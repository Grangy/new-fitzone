# FitZone Landing Page с Админ Панелью

Полнофункциональный лендинг фитнес-клуба с админ панелью для управления контентом.

## Возможности

### Для пользователей
- Современный адаптивный дизайн
- Информация о клубах и тренерах
- Расписание занятий
- Онлайн запись на тренировки
- Контактная информация

### Для администраторов
- Полноценная админ панель
- Управление клубами, тренерами и направлениями
- Настройка конфигурации сайта
- Безопасная аутентификация
- SQLite база данных

## Технологии

- **Frontend:** Next.js 15, React 19, TypeScript
- **Styling:** Tailwind CSS
- **Database:** SQLite3
- **Authentication:** JWT + bcrypt
- **UI Components:** Custom components

## Установка и запуск

### 1. Клонирование и установка зависимостей

```bash
# Клонируйте репозиторий
git clone <repository-url>
cd fitzone-landing

# Установите зависимости
npm install
```

### 2. Настройка окружения

Создайте файл `.env.local` в корне проекта:

```env
# JWT Secret для аутентификации
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Google Analytics (опционально)
NEXT_PUBLIC_GA_ID=your-ga-id

# Yandex Metrica (опционально)
NEXT_PUBLIC_YM_ID=your-ym-id
```

### 3. Инициализация базы данных

```bash
# Запустите миграцию данных
npm run migrate
```

Это создаст:
- SQLite базу данных (`database.sqlite`)
- Таблицы для всех сущностей
- Админ пользователя (admin / admin123)
- Тестовые данные клубов и тренеров

### 4. Запуск в режиме разработки

```bash
npm run dev
```

Приложение будет доступно по адресу: `http://localhost:3000`

### 5. Запуск в продакшене

```bash
# Сборка приложения
npm run build

# Запуск продакшен сервера
npm start
```

## Доступ к админ панели

### URL админ панели
```
http://localhost:3000/admin
```

### Данные для входа
- **Логин:** `admin`
- **Пароль:** `admin123`

⚠️ **ВАЖНО:** Смените пароль после первого входа!

## Структура проекта

```
src/
├── app/                    # Next.js App Router
│   ├── admin/              # Админ панель
│   │   ├── clubs/          # Управление клубами
│   │   ├── trainers/       # Управление тренерами
│   │   ├── directions/     # Управление направлениями
│   │   └── settings/       # Настройки сайта
│   ├── api/                # API роуты
│   │   ├── auth/           # Аутентификация
│   │   ├── clubs/          # CRUD клубов
│   │   ├── trainers/       # CRUD тренеров
│   │   ├── directions/     # CRUD направлений
│   │   └── site-config/    # Конфигурация сайта
│   └── public/             # Публичные API
├── components/             # React компоненты
├── contexts/               # React контексты
├── hooks/                  # Custom hooks
├── lib/                    # Утилиты и конфигурация
│   ├── database.ts         # Подключение к БД
│   ├── auth.ts             # Аутентификация
│   └── siteConfig.ts       # Конфигурация сайта
└── scripts/               # Скрипты
    └── migrate-data.ts     # Миграция данных
```

## API Endpoints

### Аутентификация
- `POST /api/auth/login` - Вход в систему
- `POST /api/auth/logout` - Выход из системы
- `GET /api/auth/me` - Проверка текущего пользователя

### Управление данными (требует аутентификации)
- `GET /api/clubs` - Получить все клубы
- `POST /api/clubs` - Создать клуб
- `GET /api/clubs/[id]` - Получить клуб по ID
- `PUT /api/clubs/[id]` - Обновить клуб
- `DELETE /api/clubs/[id]` - Удалить клуб

- `GET /api/trainers` - Получить всех тренеров
- `POST /api/trainers` - Создать тренера
- `PUT /api/trainers/[id]` - Обновить тренера
- `DELETE /api/trainers/[id]` - Удалить тренера

- `GET /api/directions` - Получить все направления
- `POST /api/directions` - Создать направление
- `PUT /api/directions/[id]` - Обновить направление
- `DELETE /api/directions/[id]` - Удалить направление

- `GET /api/site-config` - Получить конфигурацию сайта
- `POST /api/site-config` - Обновить конфигурацию

### Публичные API (без аутентификации)
- `GET /api/public/clubs` - Получить клубы для фронтенда
- `GET /api/public/site-config` - Получить конфигурацию для фронтенда

## База данных

### Структура таблиц

#### users
- `id` - Уникальный идентификатор
- `username` - Имя пользователя
- `password` - Хешированный пароль
- `role` - Роль пользователя
- `created_at` - Дата создания

#### clubs
- `id` - Уникальный идентификатор клуба
- `name` - Название клуба
- `address` - Адрес
- `phone` - Телефон
- `whatsapp` - WhatsApp ссылка
- `telegram` - Telegram ссылка
- `vk` - VK ссылка
- `instagram` - Instagram ссылка
- `description` - Описание
- `photos` - JSON массив фотографий
- `created_at` - Дата создания
- `updated_at` - Дата обновления

#### trainers
- `id` - Уникальный идентификатор тренера
- `club_id` - ID клуба (внешний ключ)
- `name` - Имя тренера
- `specialty` - Специализация
- `experience` - Опыт работы
- `image` - URL фотографии
- `certifications` - JSON массив сертификатов
- `bio` - Биография
- `schedule` - JSON массив расписания
- `created_at` - Дата создания
- `updated_at` - Дата обновления

#### directions
- `id` - Уникальный идентификатор направления
- `club_id` - ID клуба (внешний ключ)
- `title` - Название направления
- `description` - Описание
- `image` - URL изображения
- `price` - Цена
- `duration` - Продолжительность
- `level` - Уровень сложности
- `schedule` - JSON массив расписания
- `trainer` - Имя тренера
- `created_at` - Дата создания
- `updated_at` - Дата обновления

#### site_config
- `id` - Уникальный идентификатор
- `key` - Ключ конфигурации
- `value` - Значение конфигурации (JSON)
- `updated_at` - Дата обновления

## Резервное копирование

### Создание резервной копии
```bash
# Остановите сервер
# Скопируйте файл базы данных
cp database.sqlite database_backup_$(date +%Y%m%d_%H%M%S).sqlite
```

### Восстановление из резервной копии
```bash
# Остановите сервер
# Замените файл базы данных
cp database_backup_YYYYMMDD_HHMMSS.sqlite database.sqlite
# Перезапустите сервер
```

## Развертывание

### Vercel
1. Подключите репозиторий к Vercel
2. Установите переменные окружения в настройках проекта
3. Деплой произойдет автоматически

### Docker
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]
```

### VPS/Сервер
1. Установите Node.js 18+
2. Клонируйте репозиторий
3. Установите зависимости: `npm install`
4. Запустите миграцию: `npm run migrate`
5. Соберите приложение: `npm run build`
6. Запустите: `npm start`

## Безопасность

### Рекомендации
1. **Смените пароль по умолчанию** сразу после первого входа
2. **Используйте HTTPS** в продакшене
3. **Установите сильный JWT_SECRET**
4. **Регулярно создавайте резервные копии**
5. **Ограничьте доступ к админ панели по IP**

### Смена пароля
Для смены пароля администратора:
1. Остановите сервер
2. Запустите скрипт смены пароля (требует реализации)
3. Перезапустите сервер

## Устранение неполадок

### Проблемы с доступом
1. **Не могу войти в админ панель**
   - Проверьте правильность логина и пароля
   - Убедитесь, что сервер запущен
   - Проверьте консоль браузера на ошибки

2. **Ошибка "Database not found"**
   - Запустите миграцию: `npm run migrate`
   - Проверьте права доступа к файлу базы данных

3. **Ошибка "Authentication failed"**
   - Проверьте настройки JWT_SECRET
   - Очистите cookies браузера
   - Попробуйте войти заново

### Проблемы с данными
1. **Данные не отображаются**
   - Проверьте API endpoints
   - Убедитесь, что миграция выполнена успешно
   - Проверьте логи сервера

2. **Ошибки при сохранении**
   - Проверьте формат данных
   - Убедитесь, что все обязательные поля заполнены
   - Проверьте права доступа к базе данных

## Поддержка

При возникновении проблем:
1. Проверьте логи сервера
2. Убедитесь, что все зависимости установлены
3. Проверьте настройки базы данных
4. Обратитесь к разработчику при необходимости

## Лицензия

Этот проект создан для FitZone и предназначен для внутреннего использования.

---

**Версия:** 1.0  
**Дата:** $(date)  
**Автор:** FitZone Development Team
